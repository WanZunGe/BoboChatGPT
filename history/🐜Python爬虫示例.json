{"system": "\u73b0\u5728\u4f60\u662f\u6211\u7684\u722c\u866b\u4ee3\u7801\u52a9\u624b\uff0c\u4f60\u5c06\u6839\u636e\u6211\u7684\u8981\u6c42\u5c55\u793a\u5b9e\u73b0\u76f8\u5e94\u529f\u80fd\u7684\u4ee3\u7801\uff0c\u80fd\u4f7f\u7528API\u7684\u5c3d\u91cf\u4f7f\u7528API\n", "history": [{"role": "user", "content": "\u83b7\u53d6B\u7ad9\u89c6\u9891\u7684\u5b57\u5e55"}, {"role": "assistant", "content": "\u53ef\u4ee5\u4f7f\u7528B\u7ad9\u7684\u5f00\u653eAPI\u6765\u83b7\u53d6\u89c6\u9891\u7684\u5b57\u5e55\uff0c\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a\n\n1. \u9996\u5148\u9700\u8981\u83b7\u53d6B\u7ad9\u7684Access Token\uff0c\u53ef\u4ee5\u53c2\u8003B\u7ad9\u5f00\u653e\u5e73\u53f0\u7684\u6587\u6863\u8fdb\u884c\u83b7\u53d6\u3002\n\n2. \u4f7f\u7528API\u83b7\u53d6\u89c6\u9891\u4fe1\u606f\uff0c\u9700\u8981\u4f7f\u7528B\u7ad9\u7684\u89c6\u9891AV\u53f7\u6765\u83b7\u53d6\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```python\nimport requests\nimport json\n\n# B\u7ad9\u89c6\u9891\u7684AV\u53f7\navid = 'BVXXXXXXXX'\n\n# API\u8bf7\u6c42\u5730\u5740\nurl = 'https://api.bilibili.com/x/player/v2?cid={cid}&aid={aid}'\n\n# \u83b7\u53d6\u89c6\u9891\u4fe1\u606f\uff0c\u5305\u62eccid\u4fe1\u606f\nres = requests.get(url.format(cid='', aid=avid))\n\n# \u89e3\u6790\u89c6\u9891\u4fe1\u606f\u7684JSON\u6570\u636e\ndata = json.loads(res.text)\n\n# \u83b7\u53d6\u89c6\u9891cid\u4fe1\u606f\ncid = data['data']['dash']['video'][0]['id']\n\n# \u8f93\u51facid\u4fe1\u606f\nprint(cid)\n```\n\n3. \u4f7f\u7528API\u83b7\u53d6\u89c6\u9891\u7684\u5b57\u5e55\u4fe1\u606f\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```python\nimport requests\n\n# B\u7ad9\u89c6\u9891\u7684cid\u53f7\ncid = 'XXXXXXXX'\n\n# API\u8bf7\u6c42\u5730\u5740\nurl = 'https://api.bilibili.com/x/v1/dm/list.so?oid={oid}'\n\n# \u83b7\u53d6\u89c6\u9891\u5b57\u5e55\u4fe1\u606f\nres = requests.get(url.format(oid=cid))\n\n# \u8f93\u51fa\u54cd\u5e94\u5185\u5bb9\nprint(res.content)\n```\n\n\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u5c31\u53ef\u4ee5\u83b7\u53d6B\u7ad9\u89c6\u9891\u7684\u5b57\u5e55\u4fe1\u606f\u4e86\u3002\u9700\u8981\u6ce8\u610f\uff0c\u67d0\u4e9b\u89c6\u9891\u53ef\u80fd\u6ca1\u6709\u5f00\u653e\u5b57\u5e55\uff0c\u6216\u8005\u662f\u5b57\u5e55\u5df2\u88ab\u5220\u9664\uff0c\u65e0\u6cd5\u83b7\u53d6\u5230\u5b57\u5e55\u4fe1\u606f\u3002"}, {"role": "user", "content": "\u600e\u4e48\u4ece\u7f51\u5740\u4e2d\u83b7\u53d6BV\u53f7"}, {"role": "assistant", "content": "\u4eceB\u7ad9\u7f51\u5740\u4e2d\u83b7\u53d6BV\u53f7\u6709\u591a\u79cd\u65b9\u6cd5\uff0c\u5176\u4e2d\u4e00\u79cd\u5e38\u89c1\u7684\u65b9\u5f0f\u662f\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u5339\u914d\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```python\nimport re\n\n# B\u7ad9\u89c6\u9891\u7f51\u5740\nurl = 'https://www.bilibili.com/video/BV1Va4y1H7ry'\n\n# \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914dBV\u53f7\npattern = r'/BV(\\w+)/?'\nmatch = re.search(pattern, url)\n\n# \u8f93\u51fa\u5339\u914d\u7ed3\u679c\nif match:\n    bv = match.group(1)\n    print(bv)\nelse:\n    print('\u672a\u5339\u914d\u5230BV\u53f7')\n```\n\n\u53e6\u5916\uff0cB\u7ad9\u89c6\u9891\u7f51\u5740\u5728\u7ecf\u8fc7\u91cd\u5b9a\u5411\u540e\uff0c\u53ef\u4ee5\u5728\u54cd\u5e94\u7684header\u4e2d\u83b7\u53d6\u5230BV\u53f7\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```python\nimport requests\n\n# B\u7ad9\u89c6\u9891\u7f51\u5740\nurl = 'https://www.bilibili.com/video/BV1Va4y1H7ry'\n\n# \u8bf7\u6c42\u7f51\u5740\uff0c\u83b7\u53d6\u91cd\u5b9a\u5411\u540e\u7684\u94fe\u63a5\nres = requests.get(url, allow_redirects=False)\n\n# \u4ece\u54cd\u5e94header\u4e2d\u83b7\u53d6BV\u53f7\nif 'location' in res.headers:\n    location = res.headers['location']\n    bv = location.split('/')[-1]\n    print(bv)\nelse:\n    print('\u672a\u83b7\u53d6\u5230BV\u53f7')\n```\n\n\u4e24\u79cd\u65b9\u6cd5\u90fd\u53ef\u4ee5\u4eceB\u7ad9\u89c6\u9891\u7f51\u5740\u4e2d\u83b7\u53d6\u5230BV\u53f7\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679cB\u7ad9\u89c6\u9891\u7f51\u5740\u662f\u77ed\u94fe\u63a5\u5f62\u5f0f\uff08\u5982`https://b23.tv/xxxxxx`\uff09\uff0c\u5219\u9700\u8981\u5148\u5c06\u77ed\u94fe\u63a5\u8f6c\u6362\u4e3a\u957f\u94fe\u63a5\u518d\u8fdb\u884c\u64cd\u4f5c\u3002"}, {"role": "user", "content": "cid = data['data']['dash']['video'][0]['id']\u62a5\u9519"}, {"role": "assistant", "content": "\u51fa\u73b0`KeyError: 'dash'`\u7684\u539f\u56e0\u53ef\u80fd\u662f\u8be5\u89c6\u9891\u6240\u5bf9\u5e94\u7684`data`\u5b57\u5178\u4e2d\u6ca1\u6709`dash`\u8fd9\u4e2a\u952e\u3002\u5728B\u7ad9API\u8fd4\u56de\u7684JSON\u6570\u636e\u4e2d\uff0c\u4e0d\u540c\u7684\u89c6\u9891\u53ef\u80fd\u4f1a\u5305\u542b\u4e0d\u540c\u7c7b\u578b\u7684\u97f3\u89c6\u9891\u6d41\uff0c\u56e0\u6b64\u53ef\u80fd\u9700\u8981\u5148\u8fdb\u884c\u4e00\u4e9b\u5224\u65ad\u4e4b\u540e\u518d\u83b7\u53d6\u89c6\u9891\u7684Cid\u53f7\u3002\n\n\u4ee5\u4e0b\u4ee3\u7801\u4f1a\u5148\u5224\u65ad\u89c6\u9891\u662f\u5426\u662f\u652f\u6301DASH\u534f\u8bae\u7684\uff0c\u5982\u679c\u4e0d\u652f\u6301\u5219\u4f1a\u6309\u4f18\u5148\u7ea7\u9010\u4e2a\u5c1d\u8bd5\u5176\u4ed6\u534f\u8bae\u3002\u4ee3\u7801\u4e2d\u5305\u542b\u4e86\u83b7\u53d6B\u7ad9\u89c6\u9891Cid\u53f7\u7684\u5b8c\u6574\u4f8b\u5b50\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003\u4e00\u4e0b\u5176\u4e2d\u7684\u601d\u8def\u548c\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f\u3002\n\n```python\nimport requests\nimport json\n\n# \u9700\u8981\u83b7\u53d6Cid\u53f7\u7684B\u7ad9\u89c6\u9891\u7684AV\u53f7\navid = 'BV1Pf4y1u714'\n\n# \u8bf7\u6c42B\u7ad9API\u83b7\u53d6\u8be5\u89c6\u9891\u7684\u4fe1\u606f\nres = requests.get(f'https://api.bilibili.com/x/web-interface/view?aid={avid}')\ndata = json.loads(res.text)\n\n# \u5c1d\u8bd5DASH\u534f\u8bae\u83b7\u53d6\u89c6\u9891Cid\u53f7\ntry:\n    cid = data['data']['dash']['video'][0]['id']\nexcept KeyError:\n    # \u5907\u9009\u534f\u8bae\u5217\u8868\uff0c\u6309\u4f18\u5148\u7ea7\u4ece\u9ad8\u5230\u4f4e\u6392\u5217\n    alt_formats = [\n        'flv720',\n        'flv480',\n        'flv360',\n        'mp4',\n    ]\n    # \u9010\u4e2a\u5c1d\u8bd5\u5907\u9009\u534f\u8bae\u83b7\u53d6Cid\u53f7\n    for fmt in alt_formats:\n        try:\n            cid = data['data']['pages'][0]['dmlink'].split('?')[0].split('/')[-1]\n            if cid.startswith(fmt):\n                break\n        except (IndexError, KeyError):\n            continue\n    else:\n        raise ValueError('\u65e0\u6cd5\u83b7\u53d6\u89c6\u9891Cid\u53f7')\n    \nprint(f'\u89c6\u9891Cid\u53f7\uff1a{cid}')\n```\n\n\u5982\u679c\u4ee5\u4e0a\u4ee3\u7801\u4ecd\u7136\u9047\u5230\u4e86\u5176\u4ed6\u95ee\u9898\uff0c\u8bf7\u8be6\u7ec6\u63cf\u8ff0\u62a5\u9519\u4fe1\u606f\u548c\u5177\u4f53\u60c5\u51b5\uff0c\u6211\u4f1a\u5c3d\u529b\u5e2e\u52a9\u60a8\u89e3\u51b3\u95ee\u9898\u3002"}, {"role": "user", "content": "\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230\u6307\u5b9agit\u4ed3\u5e93"}, {"role": "assistant", "content": "\u60a8\u53ef\u4ee5\u4f7f\u7528GitPython\u5e93\u6765\u5b9e\u73b0\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230\u6307\u5b9a\u7684git\u4ed3\u5e93\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a\n\n1. \u5b89\u88c5GitPython\u5e93\n\n```python\n!pip install GitPython\n```\n\n2. \u5bfc\u5165GitPython\u5e93\uff0c\u83b7\u53d6\u672c\u5730git\u4ed3\u5e93\uff0c\u5e76\u6dfb\u52a0\u6587\u4ef6\n\n```python\nimport git\nimport os\n\n# \u672c\u5730git\u4ed3\u5e93\u8def\u5f84\nrepo_path = \"/path_to_your_local_repo\"\n\n# \u521d\u59cb\u5316Repo\u5bf9\u8c61\nrepo = git.Repo(repo_path)\n\n# \u6307\u5b9a\u672c\u5730\u6587\u4ef6\u8def\u5f84\nfile_path = \"/path_to_your_local_file\"\n\n# \u6dfb\u52a0\u6587\u4ef6\u5230git\u4ed3\u5e93\nrepo.index.add([file_path])\n\n# \u63d0\u4ea4\u6587\u4ef6\u5230\u672c\u5730git\u4ed3\u5e93\ncommit_message = \"upload file\"\nrepo.index.commit(commit_message)\n```\n\n3. \u63a8\u9001\u672c\u5730git\u4ed3\u5e93\u7684\u66f4\u65b0\u5230\u8fdc\u7a0b\u4ed3\u5e93\n\n```python\n# \u8bfb\u53d6\u8fdc\u7a0b\u5206\u652f\u7684\u540d\u79f0\nremote_branch = repo.remote().refs.master\n\n# \u63a8\u9001\u672c\u5730\u5206\u652f\u66f4\u65b0\u5230\u8fdc\u7a0b\u5206\u652f\nrepo.git.push('origin', remote_branch)\n```\n\n\u6ce8\uff1a\u9700\u8981\u786e\u8ba4\u672c\u5730git\u4ed3\u5e93\u5df2\u7ecf\u4e0e\u8fdc\u7a0bgit\u4ed3\u5e93\u5efa\u7acb\u4e86\u8fde\u63a5\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5904\u67e5\u770b\u672c\u5730git\u4ed3\u5e93\u6240\u5173\u8054\u7684\u8fdc\u7a0b\u4ed3\u5e93\uff1a\n\n```python\nrepo.git.remote('-v')\n```\n\n\u5982\u679c\u4ee5\u4e0a\u64cd\u4f5c\u672a\u80fd\u6ee1\u8db3\u60a8\u7684\u9700\u6c42\uff0c\u8bf7\u8be6\u7ec6\u63cf\u8ff0\u60a8\u7684\u5177\u4f53\u60c5\u51b5\u548c\u95ee\u9898\uff0c\u6211\u4f1a\u5c3d\u529b\u5e2e\u52a9\u60a8\u89e3\u51b3\u95ee\u9898\u3002"}, {"role": "user", "content": "\u6211\u8981\u5728git\u4e2d\u4e0a\u4f20"}, {"role": "assistant", "content": "\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230git\u8fdc\u7a0b\u4ed3\u5e93\uff1a\n\n1. \u5728\u672c\u5730\u4ed3\u5e93\u76ee\u5f55\u4e2d\u6dfb\u52a0\u6587\u4ef6\n\n```bash\n$ cp /local/path/to/file.txt .\n```\n\n2. \u6dfb\u52a0\u6587\u4ef6\u5230git\u4ed3\u5e93\u5e76\u63d0\u4ea4\u66f4\u65b0\n\n```bash\n$ git add file.txt\n$ git commit -m \"Add file.txt\"\n```\n\n3. \u5c06\u672c\u5730\u66f4\u65b0\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\n\n```bash\n$ git push origin master\n```\n\n\u5728\u4ee5\u4e0a\u547d\u4ee4\u4e2d\uff0c`file.txt`\u662f\u60a8\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\u540d\uff0c`origin`\u662fgit\u8fdc\u7a0b\u4ed3\u5e93\u7684\u540d\u79f0\uff0c`master`\u662fgit\u7684\u4e3b\u5206\u652f\u540d\u79f0\u3002\u5728\u63d0\u4ea4\u66f4\u65b0\u65f6\uff0c\u9700\u8981\u586b\u5199\u6709\u610f\u4e49\u7684\u63d0\u4ea4\u4fe1\u606f\uff0c\u4ee5\u4fbf\u5176\u4ed6\u4eba\u5728\u9605\u8bfb\u63d0\u4ea4\u8bb0\u5f55\u65f6\u53ef\u4ee5\u7406\u89e3\u66f4\u65b0\u7684\u5185\u5bb9\u3002\n\n\u5982\u679c\u60a8\u8fd8\u6ca1\u6709\u5728git\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u521b\u5efa\u5206\u652f\u6216\u8005\u6ca1\u6709\u5c06\u672c\u5730\u5206\u652f\u63a8\u9001\u5230\u8fdc\u7a0b\u5206\u652f\uff0c\u8bf7\u5148\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n\n```bash\n$ git branch -M main\n$ git remote add origin https://github.com/your_username/your_repo.git\n$ git push -u origin main\n```\n\n\u5728\u4ee5\u4e0a\u547d\u4ee4\u4e2d\uff0c`main`\u662f\u60a8\u8981\u521b\u5efa\u7684\u5206\u652f\u540d\u79f0\uff0c`https://github.com/your_username/your_repo.git`\u662f\u60a8\u7684git\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740 \u3002"}, {"role": "user", "content": "\u7528git\u547d\u4ee4\u4e0a\u4f20"}, {"role": "assistant", "content": "\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0bgit\u547d\u4ee4\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230git\u8fdc\u7a0b\u4ed3\u5e93\uff1a\n\n1. \u5c06\u6587\u4ef6\u6dfb\u52a0\u5230\u672c\u5730\u6682\u5b58\u533a\n\n```bash\n$ git add file.txt\n```\n\n2. \u63d0\u4ea4\u66f4\u65b0\u5230\u672c\u5730\u4ed3\u5e93\uff0c\u5e76\u586b\u5199\u63d0\u4ea4\u4fe1\u606f\n\n```bash\n$ git commit -m \"Add file.txt\"\n```\n\n3. \u83b7\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u6700\u65b0\u7684\u66f4\u65b0\n\n```bash\n$ git pull origin master\n```\n\n4. \u5c06\u672c\u5730\u66f4\u65b0\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\n\n```bash\n$ git push origin master\n```\n\n\u5728\u4ee5\u4e0a\u547d\u4ee4\u4e2d\uff0c`file.txt`\u662f\u60a8\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\u540d\uff0c`origin`\u662fgit\u8fdc\u7a0b\u4ed3\u5e93\u7684\u540d\u79f0\uff0c`master`\u662fgit\u7684\u4e3b\u5206\u652f\u540d\u79f0\u3002\u5728\u63d0\u4ea4\u66f4\u65b0\u65f6\uff0c\u9700\u8981\u586b\u5199\u6709\u610f\u4e49\u7684\u63d0\u4ea4\u4fe1\u606f\uff0c\u4ee5\u4fbf\u5176\u4ed6\u4eba\u5728\u9605\u8bfb\u63d0\u4ea4\u8bb0\u5f55\u65f6\u53ef\u4ee5\u7406\u89e3\u66f4\u65b0\u7684\u5185\u5bb9\u3002\n\n\u5982\u679c\u60a8\u8fd8\u6ca1\u6709\u5728git\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u521b\u5efa\u5206\u652f\u6216\u8005\u6ca1\u6709\u5c06\u672c\u5730\u5206\u652f\u63a8\u9001\u5230\u8fdc\u7a0b\u5206\u652f\uff0c\u8bf7\u5148\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n\n```bash\n$ git branch -M main\n$ git remote add origin https://github.com/your_username/your_repo.git\n$ git push -u origin main\n```\n\n\u5728\u4ee5\u4e0a\u547d\u4ee4\u4e2d\uff0c`main`\u662f\u60a8\u8981\u521b\u5efa\u7684\u5206\u652f\u540d\u79f0\uff0c`https://github.com/your_username/your_repo.git`\u662f\u60a8\u7684git\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740 \u3002"}], "chatbot": [["\u83b7\u53d6B\u7ad9\u89c6\u9891\u7684\u5b57\u5e55", "<p>\u53ef\u4ee5\u4f7f\u7528B\u7ad9\u7684API\u6765\u83b7\u53d6\u89c6\u9891\u5b57\u5e55\uff0c\u5177\u4f53\u5b9e\u73b0\u5982\u4e0b\uff1a</p>\n<p>\u9996\u5148\uff0c\u9700\u8981\u83b7\u53d6\u8be5\u89c6\u9891\u7684cid\uff08\u5373\u5f39\u5e55id\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7API\u83b7\u53d6\uff0c\u4f8b\u5982\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n<span class=\"c1\"># \u89c6\u9891\u7684av\u53f7</span>\n<span class=\"n\">aid</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;123456&#39;</span>\n<span class=\"c1\"># \u83b7\u53d6\u89c6\u9891\u4fe1\u606f</span>\n<span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s1\">&#39;https://api.bilibili.com/x/web-interface/view?aid=</span><span class=\"si\">{</span><span class=\"n\">aid</span><span class=\"si\">}</span><span class=\"s1\">&#39;</span>\n<span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">)</span>\n<span class=\"n\">json_data</span> <span class=\"o\">=</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>\n<span class=\"c1\"># \u83b7\u53d6cid</span>\n<span class=\"n\">cid</span> <span class=\"o\">=</span> <span class=\"n\">json_data</span><span class=\"p\">[</span><span class=\"s1\">&#39;data&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;cid&#39;</span><span class=\"p\">]</span>\n</code></pre></div>\n<p>\u83b7\u53d6\u5230cid\u4e4b\u540e\uff0c\u53ef\u4ee5\u6839\u636ecid\u83b7\u53d6\u8be5\u89c6\u9891\u7684\u5b57\u5e55\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u83b7\u53d6\u5b57\u5e55\u4fe1\u606f</span>\n<span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s1\">&#39;https://api.bilibili.com/x/web-interface/view/cid=</span><span class=\"si\">{</span><span class=\"n\">cid</span><span class=\"si\">}</span><span class=\"s1\">&#39;</span>\n<span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">)</span>\n<span class=\"n\">json_data</span> <span class=\"o\">=</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>\n<span class=\"c1\"># \u6253\u5370\u5b57\u5e55\u4fe1\u606f</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json_data</span><span class=\"p\">[</span><span class=\"s1\">&#39;data&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;subtitle&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;subtitle_url&#39;</span><span class=\"p\">])</span>\n</code></pre></div>\n<p>\u8fd9\u91cc\u7684<code>subtitle_url</code>\u5b57\u6bb5\u5373\u4e3a\u5b57\u5e55\u6587\u4ef6\u7684\u4e0b\u8f7d\u5730\u5740\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee\u8be5\u5730\u5740\u6765\u4e0b\u8f7d\u5b57\u5e55\u6587\u4ef6\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u89c6\u9891\u6ca1\u6709\u5b57\u5e55\uff0c\u8be5\u5b57\u6bb5\u5c06\u4e3a<code>None</code>\u3002</p>\n<p>\u5f53\u7136\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u65b9\u7684B\u7ad9\u4e0b\u8f7d\u5de5\u5177\uff0c\u4f8b\u5982<code>you-get</code>\u7b49\uff0c\u6765\u4e0b\u8f7d\u89c6\u9891\u53ca\u5176\u5b57\u5e55\u3002</p>"], ["\u83b7\u53d6B\u7ad9\u89c6\u9891\u7684\u5b57\u5e55", "<p>\u53ef\u4ee5\u4f7f\u7528B\u7ad9\u7684\u5f00\u653eAPI\u6765\u83b7\u53d6\u89c6\u9891\u7684\u5b57\u5e55\uff0c\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a</p>\n<ol>\n<li>\u9996\u5148\u9700\u8981\u83b7\u53d6B\u7ad9\u7684Access Token\uff0c\u53ef\u4ee5\u53c2\u8003B\u7ad9\u5f00\u653e\u5e73\u53f0\u7684\u6587\u6863\u8fdb\u884c\u83b7\u53d6\u3002</li>\n</ol>\n<ol>\n<li>\u4f7f\u7528API\u83b7\u53d6\u89c6\u9891\u4fe1\u606f\uff0c\u9700\u8981\u4f7f\u7528B\u7ad9\u7684\u89c6\u9891AV\u53f7\u6765\u83b7\u53d6\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n<span class=\"kn\">import</span> <span class=\"nn\">json</span>\n<span class=\"c1\"># B\u7ad9\u89c6\u9891\u7684AV\u53f7</span>\n<span class=\"n\">avid</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;BVXXXXXXXX&#39;</span>\n<span class=\"c1\"># API\u8bf7\u6c42\u5730\u5740</span>\n<span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;https://api.bilibili.com/x/player/v2?cid=</span><span class=\"si\">{cid}</span><span class=\"s1\">&amp;aid=</span><span class=\"si\">{aid}</span><span class=\"s1\">&#39;</span>\n<span class=\"c1\"># \u83b7\u53d6\u89c6\u9891\u4fe1\u606f\uff0c\u5305\u62eccid\u4fe1\u606f</span>\n<span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">cid</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;</span><span class=\"p\">,</span> <span class=\"n\">aid</span><span class=\"o\">=</span><span class=\"n\">avid</span><span class=\"p\">))</span>\n<span class=\"c1\"># \u89e3\u6790\u89c6\u9891\u4fe1\u606f\u7684JSON\u6570\u636e</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">loads</span><span class=\"p\">(</span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u83b7\u53d6\u89c6\u9891cid\u4fe1\u606f</span>\n<span class=\"n\">cid</span> <span class=\"o\">=</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">&#39;data&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;dash&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;video&#39;</span><span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"s1\">&#39;id&#39;</span><span class=\"p\">]</span>\n<span class=\"c1\"># \u8f93\u51facid\u4fe1\u606f</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">cid</span><span class=\"p\">)</span>\n</code></pre></div>\n<ol>\n<li>\u4f7f\u7528API\u83b7\u53d6\u89c6\u9891\u7684\u5b57\u5e55\u4fe1\u606f\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n<span class=\"c1\"># B\u7ad9\u89c6\u9891\u7684cid\u53f7</span>\n<span class=\"n\">cid</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;XXXXXXXX&#39;</span>\n<span class=\"c1\"># API\u8bf7\u6c42\u5730\u5740</span>\n<span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;https://api.bilibili.com/x/v1/dm/list.so?oid=</span><span class=\"si\">{oid}</span><span class=\"s1\">&#39;</span>\n<span class=\"c1\"># \u83b7\u53d6\u89c6\u9891\u5b57\u5e55\u4fe1\u606f</span>\n<span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">oid</span><span class=\"o\">=</span><span class=\"n\">cid</span><span class=\"p\">))</span>\n<span class=\"c1\"># \u8f93\u51fa\u54cd\u5e94\u5185\u5bb9</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">content</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u5c31\u53ef\u4ee5\u83b7\u53d6B\u7ad9\u89c6\u9891\u7684\u5b57\u5e55\u4fe1\u606f\u4e86\u3002\u9700\u8981\u6ce8\u610f\uff0c\u67d0\u4e9b\u89c6\u9891\u53ef\u80fd\u6ca1\u6709\u5f00\u653e\u5b57\u5e55\uff0c\u6216\u8005\u662f\u5b57\u5e55\u5df2\u88ab\u5220\u9664\uff0c\u65e0\u6cd5\u83b7\u53d6\u5230\u5b57\u5e55\u4fe1\u606f\u3002</p>"], ["\u600e\u4e48\u4ece\u7f51\u5740\u4e2d\u83b7\u53d6BV\u53f7", "<p>\u4eceB\u7ad9\u7f51\u5740\u4e2d\u83b7\u53d6BV\u53f7\u6709\u591a\u79cd\u65b9\u6cd5\uff0c\u5176\u4e2d\u4e00\u79cd\u5e38\u89c1\u7684\u65b9\u5f0f\u662f\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u5339\u914d\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"nn\">re</span>\n<span class=\"c1\"># B\u7ad9\u89c6\u9891\u7f51\u5740</span>\n<span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;https://www.bilibili.com/video/BV1Va4y1H7ry&#39;</span>\n<span class=\"c1\"># \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914dBV\u53f7</span>\n<span class=\"n\">pattern</span> <span class=\"o\">=</span> <span class=\"sa\">r</span><span class=\"s1\">&#39;/BV(\\w+)/?&#39;</span>\n<span class=\"n\">match</span> <span class=\"o\">=</span> <span class=\"n\">re</span><span class=\"o\">.</span><span class=\"n\">search</span><span class=\"p\">(</span><span class=\"n\">pattern</span><span class=\"p\">,</span> <span class=\"n\">url</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u8f93\u51fa\u5339\u914d\u7ed3\u679c</span>\n<span class=\"k\">if</span> <span class=\"n\">match</span><span class=\"p\">:</span>\n    <span class=\"n\">bv</span> <span class=\"o\">=</span> <span class=\"n\">match</span><span class=\"o\">.</span><span class=\"n\">group</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">bv</span><span class=\"p\">)</span>\n<span class=\"k\">else</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;\u672a\u5339\u914d\u5230BV\u53f7&#39;</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>\u53e6\u5916\uff0cB\u7ad9\u89c6\u9891\u7f51\u5740\u5728\u7ecf\u8fc7\u91cd\u5b9a\u5411\u540e\uff0c\u53ef\u4ee5\u5728\u54cd\u5e94\u7684header\u4e2d\u83b7\u53d6\u5230BV\u53f7\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n<span class=\"c1\"># B\u7ad9\u89c6\u9891\u7f51\u5740</span>\n<span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;https://www.bilibili.com/video/BV1Va4y1H7ry&#39;</span>\n<span class=\"c1\"># \u8bf7\u6c42\u7f51\u5740\uff0c\u83b7\u53d6\u91cd\u5b9a\u5411\u540e\u7684\u94fe\u63a5</span>\n<span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">,</span> <span class=\"n\">allow_redirects</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u4ece\u54cd\u5e94header\u4e2d\u83b7\u53d6BV\u53f7</span>\n<span class=\"k\">if</span> <span class=\"s1\">&#39;location&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">headers</span><span class=\"p\">:</span>\n    <span class=\"n\">location</span> <span class=\"o\">=</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">headers</span><span class=\"p\">[</span><span class=\"s1\">&#39;location&#39;</span><span class=\"p\">]</span>\n    <span class=\"n\">bv</span> <span class=\"o\">=</span> <span class=\"n\">location</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"s1\">&#39;/&#39;</span><span class=\"p\">)[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">bv</span><span class=\"p\">)</span>\n<span class=\"k\">else</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;\u672a\u83b7\u53d6\u5230BV\u53f7&#39;</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>\u4e24\u79cd\u65b9\u6cd5\u90fd\u53ef\u4ee5\u4eceB\u7ad9\u89c6\u9891\u7f51\u5740\u4e2d\u83b7\u53d6\u5230BV\u53f7\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679cB\u7ad9\u89c6\u9891\u7f51\u5740\u662f\u77ed\u94fe\u63a5\u5f62\u5f0f\uff08\u5982<code>https://b23.tv/xxxxxx</code>\uff09\uff0c\u5219\u9700\u8981\u5148\u5c06\u77ed\u94fe\u63a5\u8f6c\u6362\u4e3a\u957f\u94fe\u63a5\u518d\u8fdb\u884c\u64cd\u4f5c\u3002</p>"], ["cid = data['data']['dash']['video'][0]['id']\u62a5\u9519", "<p>\u51fa\u73b0<code>KeyError: 'dash'</code>\u7684\u539f\u56e0\u53ef\u80fd\u662f\u8be5\u89c6\u9891\u6240\u5bf9\u5e94\u7684<code>data</code>\u5b57\u5178\u4e2d\u6ca1\u6709<code>dash</code>\u8fd9\u4e2a\u952e\u3002\u5728B\u7ad9API\u8fd4\u56de\u7684JSON\u6570\u636e\u4e2d\uff0c\u4e0d\u540c\u7684\u89c6\u9891\u53ef\u80fd\u4f1a\u5305\u542b\u4e0d\u540c\u7c7b\u578b\u7684\u97f3\u89c6\u9891\u6d41\uff0c\u56e0\u6b64\u53ef\u80fd\u9700\u8981\u5148\u8fdb\u884c\u4e00\u4e9b\u5224\u65ad\u4e4b\u540e\u518d\u83b7\u53d6\u89c6\u9891\u7684Cid\u53f7\u3002</p>\n<p>\u4ee5\u4e0b\u4ee3\u7801\u4f1a\u5148\u5224\u65ad\u89c6\u9891\u662f\u5426\u662f\u652f\u6301DASH\u534f\u8bae\u7684\uff0c\u5982\u679c\u4e0d\u652f\u6301\u5219\u4f1a\u6309\u4f18\u5148\u7ea7\u9010\u4e2a\u5c1d\u8bd5\u5176\u4ed6\u534f\u8bae\u3002\u4ee3\u7801\u4e2d\u5305\u542b\u4e86\u83b7\u53d6B\u7ad9\u89c6\u9891Cid\u53f7\u7684\u5b8c\u6574\u4f8b\u5b50\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003\u4e00\u4e0b\u5176\u4e2d\u7684\u601d\u8def\u548c\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f\u3002</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n<span class=\"kn\">import</span> <span class=\"nn\">json</span>\n<span class=\"c1\"># \u9700\u8981\u83b7\u53d6Cid\u53f7\u7684B\u7ad9\u89c6\u9891\u7684AV\u53f7</span>\n<span class=\"n\">avid</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;BV1Pf4y1u714&#39;</span>\n<span class=\"c1\"># \u8bf7\u6c42B\u7ad9API\u83b7\u53d6\u8be5\u89c6\u9891\u7684\u4fe1\u606f</span>\n<span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">&#39;https://api.bilibili.com/x/web-interface/view?aid=</span><span class=\"si\">{</span><span class=\"n\">avid</span><span class=\"si\">}</span><span class=\"s1\">&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">loads</span><span class=\"p\">(</span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u5c1d\u8bd5DASH\u534f\u8bae\u83b7\u53d6\u89c6\u9891Cid\u53f7</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"n\">cid</span> <span class=\"o\">=</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">&#39;data&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;dash&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;video&#39;</span><span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"s1\">&#39;id&#39;</span><span class=\"p\">]</span>\n<span class=\"k\">except</span> <span class=\"ne\">KeyError</span><span class=\"p\">:</span>\n    <span class=\"c1\"># \u5907\u9009\u534f\u8bae\u5217\u8868\uff0c\u6309\u4f18\u5148\u7ea7\u4ece\u9ad8\u5230\u4f4e\u6392\u5217</span>\n    <span class=\"n\">alt_formats</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"s1\">&#39;flv720&#39;</span><span class=\"p\">,</span>\n        <span class=\"s1\">&#39;flv480&#39;</span><span class=\"p\">,</span>\n        <span class=\"s1\">&#39;flv360&#39;</span><span class=\"p\">,</span>\n        <span class=\"s1\">&#39;mp4&#39;</span><span class=\"p\">,</span>\n    <span class=\"p\">]</span>\n    <span class=\"c1\"># \u9010\u4e2a\u5c1d\u8bd5\u5907\u9009\u534f\u8bae\u83b7\u53d6Cid\u53f7</span>\n    <span class=\"k\">for</span> <span class=\"n\">fmt</span> <span class=\"ow\">in</span> <span class=\"n\">alt_formats</span><span class=\"p\">:</span>\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"n\">cid</span> <span class=\"o\">=</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">&#39;data&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;pages&#39;</span><span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"s1\">&#39;dmlink&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"s1\">&#39;?&#39;</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"s1\">&#39;/&#39;</span><span class=\"p\">)[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n            <span class=\"k\">if</span> <span class=\"n\">cid</span><span class=\"o\">.</span><span class=\"n\">startswith</span><span class=\"p\">(</span><span class=\"n\">fmt</span><span class=\"p\">):</span>\n                <span class=\"k\">break</span>\n        <span class=\"k\">except</span> <span class=\"p\">(</span><span class=\"ne\">IndexError</span><span class=\"p\">,</span> <span class=\"ne\">KeyError</span><span class=\"p\">):</span>\n            <span class=\"k\">continue</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s1\">&#39;\u65e0\u6cd5\u83b7\u53d6\u89c6\u9891Cid\u53f7&#39;</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">&#39;\u89c6\u9891Cid\u53f7\uff1a</span><span class=\"si\">{</span><span class=\"n\">cid</span><span class=\"si\">}</span><span class=\"s1\">&#39;</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>\u5982\u679c\u4ee5\u4e0a\u4ee3\u7801\u4ecd\u7136\u9047\u5230\u4e86\u5176\u4ed6\u95ee\u9898\uff0c\u8bf7\u8be6\u7ec6\u63cf\u8ff0\u62a5\u9519\u4fe1\u606f\u548c\u5177\u4f53\u60c5\u51b5\uff0c\u6211\u4f1a\u5c3d\u529b\u5e2e\u52a9\u60a8\u89e3\u51b3\u95ee\u9898\u3002</p>"], ["\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230\u6307\u5b9agit\u4ed3\u5e93", "<p>\u60a8\u53ef\u4ee5\u4f7f\u7528GitPython\u5e93\u6765\u5b9e\u73b0\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230\u6307\u5b9a\u7684git\u4ed3\u5e93\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a</p>\n<ol>\n<li>\u5b89\u88c5GitPython\u5e93</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"err\">!</span><span class=\"n\">pip</span> <span class=\"n\">install</span> <span class=\"n\">GitPython</span>\n</code></pre></div>\n<ol>\n<li>\u5bfc\u5165GitPython\u5e93\uff0c\u83b7\u53d6\u672c\u5730git\u4ed3\u5e93\uff0c\u5e76\u6dfb\u52a0\u6587\u4ef6</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"nn\">git</span>\n<span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"c1\"># \u672c\u5730git\u4ed3\u5e93\u8def\u5f84</span>\n<span class=\"n\">repo_path</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;/path_to_your_local_repo&quot;</span>\n<span class=\"c1\"># \u521d\u59cb\u5316Repo\u5bf9\u8c61</span>\n<span class=\"n\">repo</span> <span class=\"o\">=</span> <span class=\"n\">git</span><span class=\"o\">.</span><span class=\"n\">Repo</span><span class=\"p\">(</span><span class=\"n\">repo_path</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u6307\u5b9a\u672c\u5730\u6587\u4ef6\u8def\u5f84</span>\n<span class=\"n\">file_path</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;/path_to_your_local_file&quot;</span>\n<span class=\"c1\"># \u6dfb\u52a0\u6587\u4ef6\u5230git\u4ed3\u5e93</span>\n<span class=\"n\">repo</span><span class=\"o\">.</span><span class=\"n\">index</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">([</span><span class=\"n\">file_path</span><span class=\"p\">])</span>\n<span class=\"c1\"># \u63d0\u4ea4\u6587\u4ef6\u5230\u672c\u5730git\u4ed3\u5e93</span>\n<span class=\"n\">commit_message</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;upload file&quot;</span>\n<span class=\"n\">repo</span><span class=\"o\">.</span><span class=\"n\">index</span><span class=\"o\">.</span><span class=\"n\">commit</span><span class=\"p\">(</span><span class=\"n\">commit_message</span><span class=\"p\">)</span>\n</code></pre></div>\n<ol>\n<li>\u63a8\u9001\u672c\u5730git\u4ed3\u5e93\u7684\u66f4\u65b0\u5230\u8fdc\u7a0b\u4ed3\u5e93</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u8bfb\u53d6\u8fdc\u7a0b\u5206\u652f\u7684\u540d\u79f0</span>\n<span class=\"n\">remote_branch</span> <span class=\"o\">=</span> <span class=\"n\">repo</span><span class=\"o\">.</span><span class=\"n\">remote</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">refs</span><span class=\"o\">.</span><span class=\"n\">master</span>\n<span class=\"c1\"># \u63a8\u9001\u672c\u5730\u5206\u652f\u66f4\u65b0\u5230\u8fdc\u7a0b\u5206\u652f</span>\n<span class=\"n\">repo</span><span class=\"o\">.</span><span class=\"n\">git</span><span class=\"o\">.</span><span class=\"n\">push</span><span class=\"p\">(</span><span class=\"s1\">&#39;origin&#39;</span><span class=\"p\">,</span> <span class=\"n\">remote_branch</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>\u6ce8\uff1a\u9700\u8981\u786e\u8ba4\u672c\u5730git\u4ed3\u5e93\u5df2\u7ecf\u4e0e\u8fdc\u7a0bgit\u4ed3\u5e93\u5efa\u7acb\u4e86\u8fde\u63a5\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5904\u67e5\u770b\u672c\u5730git\u4ed3\u5e93\u6240\u5173\u8054\u7684\u8fdc\u7a0b\u4ed3\u5e93\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"n\">repo</span><span class=\"o\">.</span><span class=\"n\">git</span><span class=\"o\">.</span><span class=\"n\">remote</span><span class=\"p\">(</span><span class=\"s1\">&#39;-v&#39;</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>\u5982\u679c\u4ee5\u4e0a\u64cd\u4f5c\u672a\u80fd\u6ee1\u8db3\u60a8\u7684\u9700\u6c42\uff0c\u8bf7\u8be6\u7ec6\u63cf\u8ff0\u60a8\u7684\u5177\u4f53\u60c5\u51b5\u548c\u95ee\u9898\uff0c\u6211\u4f1a\u5c3d\u529b\u5e2e\u52a9\u60a8\u89e3\u51b3\u95ee\u9898\u3002</p>"], ["\u6211\u8981\u5728git\u4e2d\u4e0a\u4f20", "<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230git\u8fdc\u7a0b\u4ed3\u5e93\uff1a</p>\n<ol>\n<li>\u5728\u672c\u5730\u4ed3\u5e93\u76ee\u5f55\u4e2d\u6dfb\u52a0\u6587\u4ef6</li>\n</ol>\n<p>```bash</p>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><mrow><mi>c</mi><mi>p</mi><mo>&#x0002F;</mo><mi>l</mi><mi>o</mi><mi>c</mi><mi>a</mi><mi>l</mi><mo>&#x0002F;</mo><mi>p</mi><mi>a</mi><mi>t</mi><mi>h</mi><mo>&#x0002F;</mo><mi>t</mi><mi>o</mi><mo>&#x0002F;</mo><mi>f</mi><mi>i</mi><mi>l</mi><mi>e</mi><mo>&#x0002E;</mo><mi>t</mi><mi>x</mi><mi>t</mi><mo>&#x0002E;</mo><mi>`</mi><mi>`</mi><mi>`</mi></mrow></math>\n<p><font style=\"color:orange;\" class=\"tooltip\"><span class=\"tooltiptext\">formula incomplete</span></font></p>\n<p>&#9888;</p>\n<ol>\n<li>\u6dfb\u52a0\u6587\u4ef6\u5230git\u4ed3\u5e93\u5e76\u63d0\u4ea4\u66f4\u65b0</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>&lt;math <span class=\"nv\">xmlns</span><span class=\"o\">=</span><span class=\"s2\">&quot;http://www.w3.org/1998/Math/MathML&quot;</span> <span class=\"nv\">display</span><span class=\"o\">=</span><span class=\"s2\">&quot;inline&quot;</span>&gt;&lt;mrow&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;<span class=\"p\">&amp;</span><span class=\"c1\">#x0002E;&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt; git commit -m &quot;Add file.txt&quot;</span>\n</code></pre></div>\n<ol>\n<li>\u5c06\u672c\u5730\u66f4\u65b0\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93</li>\n</ol>\n<p>```bash</p>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><mrow><mi>g</mi><mi>i</mi><mi>t</mi><mi>p</mi><mi>u</mi><mi>s</mi><mi>h</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mi>i</mi><mi>n</mi><mi>m</mi><mi>a</mi><mi>s</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>`</mi><mi>`</mi><mi>`</mi></mrow></math>\n<p><font style=\"color:orange;\" class=\"tooltip\"><span class=\"tooltiptext\">formula incomplete</span></font></p>\n<p>&#9888;</p>\n<p>\u5728\u4ee5\u4e0a\u547d\u4ee4\u4e2d\uff0c<code>file.txt</code>\u662f\u60a8\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\u540d\uff0c<code>origin</code>\u662fgit\u8fdc\u7a0b\u4ed3\u5e93\u7684\u540d\u79f0\uff0c<code>master</code>\u662fgit\u7684\u4e3b\u5206\u652f\u540d\u79f0\u3002\u5728\u63d0\u4ea4\u66f4\u65b0\u65f6\uff0c\u9700\u8981\u586b\u5199\u6709\u610f\u4e49\u7684\u63d0\u4ea4\u4fe1\u606f\uff0c\u4ee5\u4fbf\u5176\u4ed6\u4eba\u5728\u9605\u8bfb\u63d0\u4ea4\u8bb0\u5f55\u65f6\u53ef\u4ee5\u7406\u89e3\u66f4\u65b0\u7684\u5185\u5bb9\u3002</p>\n<p>\u5982\u679c\u60a8\u8fd8\u6ca1\u6709\u5728git\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u521b\u5efa\u5206\u652f\u6216\u8005\u6ca1\u6709\u5c06\u672c\u5730\u5206\u652f\u63a8\u9001\u5230\u8fdc\u7a0b\u5206\u652f\uff0c\u8bf7\u5148\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p>\n<p>```bash</p>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><mrow><mi>g</mi><mi>i</mi><mi>t</mi><mi>b</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>h</mi><mo>&#x02212;</mo><mi>M</mi><mi>m</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></math>\n<p>git remote add origin https://github.com/your_username/your_repo.git</p>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><mrow><mi>g</mi><mi>i</mi><mi>t</mi><mi>p</mi><mi>u</mi><mi>s</mi><mi>h</mi><mo>&#x02212;</mo><mi>u</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mi>i</mi><mi>n</mi><mi>m</mi><mi>a</mi><mi>i</mi><mi>n</mi><mi>`</mi><mi>`</mi><mi>`</mi></mrow></math>\n<p><font style=\"color:orange;\" class=\"tooltip\"><span class=\"tooltiptext\">formula incomplete</span></font></p>\n<p>&#9888;</p>\n<p>\u5728\u4ee5\u4e0a\u547d\u4ee4\u4e2d\uff0c<code>main</code>\u662f\u60a8\u8981\u521b\u5efa\u7684\u5206\u652f\u540d\u79f0\uff0c<code>https://github.com/your_username/your_repo.git</code>\u662f\u60a8\u7684git\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740 \u3002</p>"], ["\u7528git\u547d\u4ee4\u4e0a\u4f20", "<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0bgit\u547d\u4ee4\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230git\u8fdc\u7a0b\u4ed3\u5e93\uff1a</p>\n<ol>\n<li>\u5c06\u6587\u4ef6\u6dfb\u52a0\u5230\u672c\u5730\u6682\u5b58\u533a</li>\n</ol>\n<p>```bash</p>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><mrow><mi>g</mi><mi>i</mi><mi>t</mi><mi>a</mi><mi>d</mi><mi>d</mi><mi>f</mi><mi>i</mi><mi>l</mi><mi>e</mi><mo>&#x0002E;</mo><mi>t</mi><mi>x</mi><mi>t</mi><mi>`</mi><mi>`</mi><mi>`</mi></mrow></math>\n<p><font style=\"color:orange;\" class=\"tooltip\"><span class=\"tooltiptext\">formula incomplete</span></font></p>\n<p>&#9888;</p>\n<ol>\n<li>\u63d0\u4ea4\u66f4\u65b0\u5230\u672c\u5730\u4ed3\u5e93\uff0c\u5e76\u586b\u5199\u63d0\u4ea4\u4fe1\u606f</li>\n</ol>\n<p>```bash</p>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><mrow><mi>g</mi><mi>i</mi><mi>t</mi><mi>c</mi><mi>o</mi><mi>m</mi><mi>m</mi><mi>i</mi><mi>t</mi><mo>&#x02212;</mo><mi>m</mi><mi>\"</mi><mi>A</mi><mi>d</mi><mi>d</mi><mi>f</mi><mi>i</mi><mi>l</mi><mi>e</mi><mo>&#x0002E;</mo><mi>t</mi><mi>x</mi><mi>t</mi><mi>\"</mi><mi>`</mi><mi>`</mi><mi>`</mi></mrow></math>\n<p><font style=\"color:orange;\" class=\"tooltip\"><span class=\"tooltiptext\">formula incomplete</span></font></p>\n<p>&#9888;</p>\n<ol>\n<li>\u83b7\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u6700\u65b0\u7684\u66f4\u65b0</li>\n</ol>\n<p>```bash</p>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><mrow><mi>g</mi><mi>i</mi><mi>t</mi><mi>p</mi><mi>u</mi><mi>l</mi><mi>l</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mi>i</mi><mi>n</mi><mi>m</mi><mi>a</mi><mi>s</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>`</mi><mi>`</mi><mi>`</mi></mrow></math>\n<p><font style=\"color:orange;\" class=\"tooltip\"><span class=\"tooltiptext\">formula incomplete</span></font></p>\n<p>&#9888;</p>\n<ol>\n<li>\u5c06\u672c\u5730\u66f4\u65b0\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93</li>\n</ol>\n<p>```bash</p>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><mrow><mi>g</mi><mi>i</mi><mi>t</mi><mi>p</mi><mi>u</mi><mi>s</mi><mi>h</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mi>i</mi><mi>n</mi><mi>m</mi><mi>a</mi><mi>s</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>`</mi><mi>`</mi><mi>`</mi></mrow></math>\n<p><font style=\"color:orange;\" class=\"tooltip\"><span class=\"tooltiptext\">formula incomplete</span></font></p>\n<p>&#9888;</p>\n<p>\u5728\u4ee5\u4e0a\u547d\u4ee4\u4e2d\uff0c<code>file.txt</code>\u662f\u60a8\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\u540d\uff0c<code>origin</code>\u662fgit\u8fdc\u7a0b\u4ed3\u5e93\u7684\u540d\u79f0\uff0c<code>master</code>\u662fgit\u7684\u4e3b\u5206\u652f\u540d\u79f0\u3002\u5728\u63d0\u4ea4\u66f4\u65b0\u65f6\uff0c\u9700\u8981\u586b\u5199\u6709\u610f\u4e49\u7684\u63d0\u4ea4\u4fe1\u606f\uff0c\u4ee5\u4fbf\u5176\u4ed6\u4eba\u5728\u9605\u8bfb\u63d0\u4ea4\u8bb0\u5f55\u65f6\u53ef\u4ee5\u7406\u89e3\u66f4\u65b0\u7684\u5185\u5bb9\u3002</p>\n<p>\u5982\u679c\u60a8\u8fd8\u6ca1\u6709\u5728git\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u521b\u5efa\u5206\u652f\u6216\u8005\u6ca1\u6709\u5c06\u672c\u5730\u5206\u652f\u63a8\u9001\u5230\u8fdc\u7a0b\u5206\u652f\uff0c\u8bf7\u5148\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p>\n<p>```bash</p>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><mrow><mi>g</mi><mi>i</mi><mi>t</mi><mi>b</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>h</mi><mo>&#x02212;</mo><mi>M</mi><mi>m</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></math>\n<p>git remote add origin https://github.com/your_username/your_repo.git</p>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"inline\"><mrow><mi>g</mi><mi>i</mi><mi>t</mi><mi>p</mi><mi>u</mi><mi>s</mi><mi>h</mi><mo>&#x02212;</mo><mi>u</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mi>i</mi><mi>n</mi><mi>m</mi><mi>a</mi><mi>i</mi><mi>n</mi><mi>`</mi><mi>`</mi><mi>`</mi></mrow></math>\n<p><font style=\"color:orange;\" class=\"tooltip\"><span class=\"tooltiptext\">formula incomplete</span></font></p>\n<p>&#9888;</p>\n<p>\u5728\u4ee5\u4e0a\u547d\u4ee4\u4e2d\uff0c<code>main</code>\u662f\u60a8\u8981\u521b\u5efa\u7684\u5206\u652f\u540d\u79f0\uff0c<code>https://github.com/your_username/your_repo.git</code>\u662f\u60a8\u7684git\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740 \u3002</p>"]]}