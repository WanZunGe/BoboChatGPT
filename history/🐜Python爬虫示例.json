{"system": "\u73b0\u5728\u4f60\u662f\u6211\u7684\u722c\u866b\u4ee3\u7801\u52a9\u624b\uff0c\u4f60\u5c06\u6839\u636e\u6211\u7684\u8981\u6c42\u5c55\u793a\u5b9e\u73b0\u76f8\u5e94\u529f\u80fd\u7684\u4ee3\u7801\uff0c\u80fd\u4f7f\u7528API\u7684\u5c3d\u91cf\u4f7f\u7528API\n", "history": [{"role": "user", "content": "\u83b7\u53d6B\u7ad9\u89c6\u9891\u7684\u5b57\u5e55"}, {"role": "assistant", "content": "\u53ef\u4ee5\u4f7f\u7528B\u7ad9\u7684API\u6765\u83b7\u53d6\u89c6\u9891\u5b57\u5e55\uff0c\u5177\u4f53\u5b9e\u73b0\u5982\u4e0b\uff1a\n\n\u9996\u5148\uff0c\u9700\u8981\u83b7\u53d6\u8be5\u89c6\u9891\u7684cid\uff08\u5373\u5f39\u5e55id\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7API\u83b7\u53d6\uff0c\u4f8b\u5982\uff1a\n\n```python\nimport requests\n\n# \u89c6\u9891\u7684av\u53f7\naid = '123456'\n\n# \u83b7\u53d6\u89c6\u9891\u4fe1\u606f\nurl = f'https://api.bilibili.com/x/web-interface/view?aid={aid}'\nresponse = requests.get(url)\njson_data = response.json()\n\n# \u83b7\u53d6cid\ncid = json_data['data']['cid']\n```\n\n\u83b7\u53d6\u5230cid\u4e4b\u540e\uff0c\u53ef\u4ee5\u6839\u636ecid\u83b7\u53d6\u8be5\u89c6\u9891\u7684\u5b57\u5e55\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a\n\n```python\n# \u83b7\u53d6\u5b57\u5e55\u4fe1\u606f\nurl = f'https://api.bilibili.com/x/web-interface/view/cid={cid}'\nresponse = requests.get(url)\njson_data = response.json()\n\n# \u6253\u5370\u5b57\u5e55\u4fe1\u606f\nprint(json_data['data']['subtitle']['subtitle_url'])\n```\n\n\u8fd9\u91cc\u7684`subtitle_url`\u5b57\u6bb5\u5373\u4e3a\u5b57\u5e55\u6587\u4ef6\u7684\u4e0b\u8f7d\u5730\u5740\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee\u8be5\u5730\u5740\u6765\u4e0b\u8f7d\u5b57\u5e55\u6587\u4ef6\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u89c6\u9891\u6ca1\u6709\u5b57\u5e55\uff0c\u8be5\u5b57\u6bb5\u5c06\u4e3a`None`\u3002\n\n\u5f53\u7136\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u65b9\u7684B\u7ad9\u4e0b\u8f7d\u5de5\u5177\uff0c\u4f8b\u5982`you-get`\u7b49\uff0c\u6765\u4e0b\u8f7d\u89c6\u9891\u53ca\u5176\u5b57\u5e55\u3002"}], "chatbot": [["\u83b7\u53d6B\u7ad9\u89c6\u9891\u7684\u5b57\u5e55", "<p>\u53ef\u4ee5\u4f7f\u7528B\u7ad9\u7684API\u6765\u83b7\u53d6\u89c6\u9891\u5b57\u5e55\uff0c\u5177\u4f53\u5b9e\u73b0\u5982\u4e0b\uff1a</p>\n<p>\u9996\u5148\uff0c\u9700\u8981\u83b7\u53d6\u8be5\u89c6\u9891\u7684cid\uff08\u5373\u5f39\u5e55id\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7API\u83b7\u53d6\uff0c\u4f8b\u5982\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n<span class=\"c1\"># \u89c6\u9891\u7684av\u53f7</span>\n<span class=\"n\">aid</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;123456&#39;</span>\n<span class=\"c1\"># \u83b7\u53d6\u89c6\u9891\u4fe1\u606f</span>\n<span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s1\">&#39;https://api.bilibili.com/x/web-interface/view?aid=</span><span class=\"si\">{</span><span class=\"n\">aid</span><span class=\"si\">}</span><span class=\"s1\">&#39;</span>\n<span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">)</span>\n<span class=\"n\">json_data</span> <span class=\"o\">=</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>\n<span class=\"c1\"># \u83b7\u53d6cid</span>\n<span class=\"n\">cid</span> <span class=\"o\">=</span> <span class=\"n\">json_data</span><span class=\"p\">[</span><span class=\"s1\">&#39;data&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;cid&#39;</span><span class=\"p\">]</span>\n</code></pre></div>\n<p>\u83b7\u53d6\u5230cid\u4e4b\u540e\uff0c\u53ef\u4ee5\u6839\u636ecid\u83b7\u53d6\u8be5\u89c6\u9891\u7684\u5b57\u5e55\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u83b7\u53d6\u5b57\u5e55\u4fe1\u606f</span>\n<span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s1\">&#39;https://api.bilibili.com/x/web-interface/view/cid=</span><span class=\"si\">{</span><span class=\"n\">cid</span><span class=\"si\">}</span><span class=\"s1\">&#39;</span>\n<span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">)</span>\n<span class=\"n\">json_data</span> <span class=\"o\">=</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>\n<span class=\"c1\"># \u6253\u5370\u5b57\u5e55\u4fe1\u606f</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json_data</span><span class=\"p\">[</span><span class=\"s1\">&#39;data&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;subtitle&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;subtitle_url&#39;</span><span class=\"p\">])</span>\n</code></pre></div>\n<p>\u8fd9\u91cc\u7684<code>subtitle_url</code>\u5b57\u6bb5\u5373\u4e3a\u5b57\u5e55\u6587\u4ef6\u7684\u4e0b\u8f7d\u5730\u5740\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee\u8be5\u5730\u5740\u6765\u4e0b\u8f7d\u5b57\u5e55\u6587\u4ef6\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u89c6\u9891\u6ca1\u6709\u5b57\u5e55\uff0c\u8be5\u5b57\u6bb5\u5c06\u4e3a<code>None</code>\u3002</p>\n<p>\u5f53\u7136\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u65b9\u7684B\u7ad9\u4e0b\u8f7d\u5de5\u5177\uff0c\u4f8b\u5982<code>you-get</code>\u7b49\uff0c\u6765\u4e0b\u8f7d\u89c6\u9891\u53ca\u5176\u5b57\u5e55\u3002</p>"]]}